# מדריך משתמש - מערכת ניהול שמירות

## תוכן עניינים
1. [מבוא](#מבוא)
2. [התחברות למערכת](#התחברות-למערכת)
3. [משתמש רגיל - צפייה בשמירות](#משתמש-רגיל---צפייה-בשמירות)
4. [מנהל - ניהול המערכת](#מנהל---ניהול-המערכת)
5. [שאלות נפוצות](#שאלות-נפוצות)

---

## מבוא

### מה זה מערכת ניהול שמירות?

מערכת זו עוזרת לך לנהל ולצפות בלוח השמירות שלך באופן אוטומטי וחכם. המערכת:
- **יוצרת לוח שמירות אוטומטי** - אין צורך לסדר ידנית!
- **מחלקת שעות בצורה הוגנת** - כולם יקבלו כמות שעות דומה
- **מנהלת כוננות בוקר** - כל בוקר בשעה 05:30-11:00
- **מאפשרת פעילויות מיוחדות** - ניתן להשהות את לוח השמירות לאימונים או תרגילים

### למי המערכת מיועדת?

- **שומרים** - צפייה בשמירות האישיות והכלליות
- **מנהלים** - יצירת תקופות, הוספת/הסרת שומרים, ניהול פעילויות

---

## התחברות למערכת

### כניסה כמשתמש רגיל

1. היכנס לכתובת האתר: `https://guardinglist.zvimarmor.com`
2. תגיע לעמוד הבית - **אין צורך בהתחברות למשתמשים רגילים!**
3. תוכל לראות את השמירות הנוכחיות והבאות

### כניסה כמנהל

1. לחץ על **"ניהול שמירה"** בתפריט העליון
2. הזן את פרטי ההתחברות
3. לחץ על **"התחבר"**
---

## משתמש רגיל - צפייה בשמירות

### עמוד הבית

כשאתה נכנס לאתר, תראה:

#### 📍 השמירות הנוכחיות
- מציג את כל השמירות שפעילות **כרגע**
- רואים מי שומר באיזה עמדה (ש״ג, צפונית, מערבית)
- העמוד מתעדכן אוטומטית כל 30 שניות

**דוגמה:**
```
ש״ג - דוד כהן
צפונית - יוסי לוי
מערבית - משה ישראלי
```

#### 🕐 השמירה הבאה
- מציג את כל השמירות **שיתחילו בזמן הקרוב ביותר**
- עוזר לך לדעת מי עולה למשמרת הבאה

---

### לוח השמירות (כל השמירות)

לחץ על **"לוח השמירות"** בתפריט העליון כדי לראות את כל השמירות.

#### סינון שמירות

את/ה יכול/ה לסנן את השמירות לפי:

**1. סינון לפי תאריך:**
- לחץ על שדה "סנן לפי תאריך"
- בחר תאריך מהלוח
- תראה רק שמירות מהתאריך הזה

**2. סינון לפי עמדה:**
- פתח את התפריט "סנן לפי עמדה"
- בחר עמדה:
  - **הכל** - כל העמדות
  - **ש״ג** - שער ראשי
  - **צפונית** - עמדה צפונית
  - **מערבית** - עמדה מערבית
  - **כוננות בוקר** - כוננות בוקר (05:30-11:00)

**3. ניקוי סינונים:**
- לחץ על **"נקה סינונים"** כדי לראות הכל שוב

#### מה מוצג בטבלה?

| עמודה | מה זה אומר |
|-------|------------|
| **שם השומר** | מי משובץ לשמירה |
| **תאריך** | איזה יום השמירה |
| **שעת התחלה** | מתי השמירה מתחילה |
| **שעת סיום** | מתי השמירה מסתיימת |
| **עמדה** | איזו עמדה (ש״ג/צפונית/מערבית) |
| **סוג** | יום/לילה/מיוחד |

---

### השמירות שלי

לחץ על **"השמירות שלי"** בתפריט העליון כדי לראות את השמירות האישיות שלך.

#### איך זה עובד?

**שלב 1: בחר את השם שלך**
- פתח את התפריט "בחר שומר"
- חפש את השם שלך ברשימה
- לחץ עליו

**שלב 2: צפה בשמירות שלך**
- תראה רק את השמירות שלך
- הטבלה ממוינת לפי תאריך
- רק שמירות עתידיות (לא עבר)

#### מה מוצג?

- **תאריך** - איזה יום אתה שומר
- **שעה** - משעה כמה עד שעה כמה
- **עמדה** - איפה אתה שומר
- **סוג** - יום/לילה/מיוחד (כוננות בוקר)

---

## מנהל - ניהול המערכת

### יצירת תקופת שמירה חדשה

**מתי להשתמש בזה?**
כשאתה רוצה להתחיל תקופה חדשה (למשל: שבוע חדש, חודש חדש)

**שלבים:**

1. **כניסה לפאנל ניהול:**
   - לחץ על "ניהול שמירה" בתפריט
   - התחבר עם שם משתמש וסיסמה

2. **לחץ על "צור תקופת שמירה חדשה"**

3. **מלא את הפרטים:**

   **שם התקופה:**
   - תן שם מזהה לתקופה
   - דוגמה: "שבוע 1 - אוקטובר 2025"

   **תאריך התחלה:**
   - בחר מתי התקופה מתחילה
   - שים לב לשעה! (למשל: 08:00)

   **תאריך סיום:**
   - בחר מתי התקופה מסתיימת
   - צריך להיות אחרי תאריך ההתחלה

   **אורך משמרת:**
   - בחר 1.5 שעות או 2 שעות
   - זה קובע כמה זמן כל משמרת

   **שומרים:**
   - הקלד שם אחד בכל שורה
   - דוגמה:
   ```
   דוד כהן
   יוסי לוי
   משה ישראלי
   ```

4. **לחץ על "צור תקופה"**

5. **המערכת תעשה את העבודה:**
   - יוצרת אוטומטית את כל השמירות
   - משבצת שומרים בצורה הוגנת
   - מוסיפה כוננות בוקר כל יום

⏱️ **זה לוקח כמה שניות** - המערכת עובדת!

---

### הוספת/הסרת שומר

**מתי להשתמש בזה?**
- כשמגיע שומר חדש באמצע תקופה
- כששומר עוזב או לא זמין

#### הוספת שומר חדש

1. **לחץ על "הוסף / הסר שומר"**
2. **בחלק "הוסף שומר חדש":**
   - הקלד את שם השומר
   - לחץ על **"הוסף שומר"**
3. **המערכת תעשה:**
   - מוסיפה את השומר
   - מאזנת מחדש את כל השמירות העתידיות
   - מוודאת חלוקה הוגנת של שעות

#### הסרת שומר

1. **לחץ על "הוסף / הסר שומר"**
2. **בחלק "הסר שומר":**
   - בחר שומר מהרשימה
   - לחץ על **"הסר שומר"**
3. **המערכת תשאל אישור** - "האם אתה בטוח?"
4. **לחץ אישור**
5. **המערכת תעשה:**
   - מסירה את השומר מכל השמירות העתידיות
   - מחלקת מחדש את השמירות שלו לשומרים אחרים

---

### התחלת פעילות מיוחדת (תקופת השהייה)

**מתי להשתמש בזה?**
- אימונים
- תרגילים
- פעילויות מיוחדות שדורשות שומרים

**מה זה עושה?**
- עוצר את לוח השמירות הרגיל
- משבץ רק את השומרים שבחרת
- כשעוצרים את הפעילות - לוח השמירות הרגיל חוזר

#### איך להתחיל פעילות?

1. **לחץ על "התחל תקופת השהייה (פעילות מיוחדת)"**

2. **מלא פרטים:**

   **שם הפעילות:**
   - תן שם מזהה
   - דוגמה: "אימון מיוחד", "תרגיל"

   **תיאור (אופציונלי):**
   - פרטים נוספים על הפעילות

   **בחר שומרים:**
   - סמן את כל השומרים שישתתפו
   - חייבים לבחור **לפחות שומר אחד**

3. **לחץ על "התחל פעילות"**

#### איך לעצור פעילות?

1. **בעמוד הניהול** תראה **"פעילויות פעילות כעת"** (אם יש)
2. **לחץ על "עצור פעילות"**
3. **המערכת תעשה:**
   - עוצרת את הפעילות
   - מחדשת את לוח השמירות הרגיל מהרגע הזה
   - מחלקת מחדש את השמירות העתידיות

---

## סוגי שמירות

### שמירות יום (08:00-19:00)

- **3 עמדות**: ש״ג, צפונית, מערבית
- **1 שומר בכל עמדה**
- **נספרות בשעות**: כן, נספרות בסך השעות של השומר

### שמירות לילה (19:00-08:00)

- **2 עמדות**: ש״ג, צפונית
- **2 שומרים בכל עמדה**
- **נספרות בשעות**: כן, נספרות בסך השעות של השומר

### כוננות בוקר (05:30-11:00)

- **9 שומרים** בכל בוקר
- **לא נספרות בשעות** - זו חובה של נוכחות
- **חכם**: המערכת לא תשבץ:
  - שומרים שסיימו משמרת 2 שעות לפני (03:30-05:30)
  - שומרים שהיו בכוננות בוקר אתמול

**למה זה חשוב?**
השומר לא יהיה עייף מדי - הוא לא יצטרך לשמור עד 05:30 ואז להישאר עד 11:00!

---

## שאלות נפוצות

### ❓ למה יש לי יותר שעות מאחרים?

המערכת מחלקת שמירות לפי **מי שיש לו הכי פחות שעות**. אם יש לך יותר שעות, זה אומר ש:
- המערכת לא יכלה לשבץ אחרים (הם היו עסוקים)
- או שהצטרפת מאוחר יותר ולכן קיבלת יותר שמירות

עם הזמן, זה מתאזן!

### ❓ למה אני בכוננות בוקר פעמיים ברציפות?

זה לא אמור לקרות! המערכת מנסה למנוע את זה. אם זה קורה:
- אולי אין מספיק שומרים
- נסה ליצור תקופה חדשה (עם התיקון האחרון)

### ❓ איך אני משנה את הסיסמה של המנהל?

כרגע הסיסמה מוגדרת קשיח בקוד. צריך לפתח תכונה חדשה לשינוי סיסמה.
**בינתיים**: שנה אותה בקוד בקובץ `app/admin/page.tsx`.

### ❓ מה קורה אם אני מוסיף שומר באמצע תקופה?

המערכת:
1. מוסיפה את השומר
2. נותנת לו מספר שעות ממוצע (כמו כולם)
3. **מאזנת מחדש** את כל השמירות העתידיות
4. מחלקת שמירות מחדש כך שיהיה הוגן

### ❓ מה קורה כשאני מסיר שומר?

המערכת:
1. מסירה את השומר
2. **מוחקת** את כל השמירות העתידיות שלו
3. **מחלקת מחדש** את השמירות שלו לשומרים אחרים
4. השמירות שכבר עברו - נשארות (לא משנות היסטוריה)

### ❓ האם אפשר למחוק תקופה?

כרגע המערכת **מוחקת אוטומטית** את התקופה הישנה כשיוצרים תקופה חדשה.
אפשר רק תקופה אחת פעילה בכל זמן נתון.

### ❓ מה זה "ניהול שמירה"?

זה פאנל ניהול למנהלים בלבד. משם אפשר:
- ליצור תקופות חדשות
- להוסיף/להסיר שומרים
- להתחיל/לעצור פעילויות מיוחדות

### ❓ האפליקציה עובדת על טלפון?

**כן!** האפליקציה מותאמת למובייל:
- עובדת מצוין על אייפון ואנדרואיד
- מתאימה לכל גודל מסך
- תומכת במצב כהה (Dark Mode)

### ❓ איך אני רואה מי שומר עכשיו?

1. היכנס לעמוד הבית
2. תראה **"השמירות הנוכחיות"**
3. זה מתעדכן אוטומטית כל 30 שניות

### ❓ איך אני מדפיס את לוח השמירות?

1. לך ל**"לוח השמירות"**
2. (אופציונלי) סנן לפי תאריך/עמדה
3. השתמש בפונקציית ההדפסה של הדפדפן:
   - **Windows**: `Ctrl + P`
   - **Mac**: `Cmd + P`
   - **טלפון**: תפריט הדפדפן → Print

---

## טיפים שימושיים 💡

### למשתמשים רגילים:

✅ **הוסף סימניה** - שמור את האתר במועדפים בטלפון
✅ **בדוק כל יום** - העמוד הבית מראה את השמירות הנוכחיות
✅ **השתמש בסינונים** - כדי למצוא בדיוק מה שאתה מחפש
✅ **"השמירות שלי"** - הדרך המהירה לראות רק את שלך

### למנהלים:

✅ **תכנן מראש** - צור תקופות מראש
✅ **אל תשכח** - עדכן שומרים כשמישהו מצטרף/עוזב
✅ **פעילויות מיוחדות** - השתמש בזה לאימונים ותרגילים
✅ **בדוק לוגים** - אם יש בעיה, בדוק את הלוגים בנטליפיי

---

## סיכום

מערכת ניהול השמירות היא כלי חכם שעושה את העבודה הקשה בשבילך:

🎯 **אוטומטית** - יוצרת לוח שמירות לבד
⚖️ **הוגנת** - מחלקת שעות בצורה שווה
🧠 **חכמה** - לא תשבץ אותך לכוננות אחרי משמרת לילה
📱 **נוחה** - עובדת על כל מכשיר

**זקוקים לעזרה?** פנה למנהל המערכת או פתח issue ב-GitHub.

---

✨ **בהצלחה עם השמירות!** ✨
